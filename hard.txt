{"prompt":"Hard 01 (procedures + lists): This procedure should return the last element of numbers. What is the bug?","code":"PROCEDURE getLast(numbers) {\n  RETURN(numbers[LENGTH(numbers) + 1])\n}\nvalues ← [3, 5, 7]\nresult ← getLast(values)\nDISPLAY(result)","choices":["It uses LENGTH(numbers) + 1, which is past the end of the list","RETURN cannot be used inside a PROCEDURE in AP CSP pseudocode","Lists in AP CSP must always have length 1","values must be a list of strings, not numbers"],"correctIndex":0}
{"prompt":"Hard 02 (procedures + lists): addToEnd is supposed to APPEND value to the end of list. What is the bug?","code":"PROCEDURE addToEnd(list, value) {\n  INSERT(list, LENGTH(list), value)\n}\nnums ← [1, 2, 3]\naddToEnd(nums, 4)\nDISPLAY(nums)","choices":["INSERT at LENGTH(list) places the new value before the last element; APPEND or LENGTH(list) + 1 is correct","INSERT cannot be used with numeric lists in AP CSP","Lists must be empty before INSERT can be used","value must be a string, not a number"],"correctIndex":0}
{"prompt":"Hard 03 (procedures + lists): This procedure should remove the first item from list. What is the bug?","code":"PROCEDURE removeFirst(list) {\n  REMOVE(list, 0)\n}\nitems ← [\"a\", \"b\", \"c\"]\nremoveFirst(items)\nDISPLAY(items[1])","choices":["List indexing in AP CSP starts at 1, so index 0 is invalid","REMOVE cannot be used inside PROCEDUREs","items must contain only numbers, not strings","Lists in AP CSP cannot be modified"],"correctIndex":0}
{"prompt":"Hard 04 (procedures + lists): doubleAll is meant to change nums so every element is doubled. Why doesn’t it work?","code":"PROCEDURE doubleAll(numbers) {\n  FOR EACH value IN numbers {\n    value ← value * 2\n  }\n}\nnums ← [1, 2, 3]\ndoubleAll(nums)\nDISPLAY(nums[1])","choices":["Changing value inside FOR EACH does not change the elements stored in numbers","FOR EACH loops cannot be used inside PROCEDUREs","nums must be a string instead of a list","AP CSP lists always store Boolean values only"],"correctIndex":0}
{"prompt":"Hard 05 (procedures + lists): sumList is supposed to return the sum of the list. What is the bug?","code":"PROCEDURE sumList(numbers) {\n  total ← 0\n  FOR EACH num IN numbers {\n    total ← total + num\n  }\n}\nvalues ← [2, 4, 6]\nresult ← sumList(values)\nDISPLAY(result)","choices":["The procedure never RETURNS total, so result receives no value from the PROCEDURE","total must be a list instead of a number","FOR EACH cannot be used with numbers in AP CSP pseudocode","values must have exactly four elements"],"correctIndex":0}
{"prompt":"Hard 06 (procedures + lists): average is supposed to compute the mean of the list. What loop bug prevents it from working?","code":"PROCEDURE average(numbers) {\n  total ← 0\n  index ← 1\n  REPEAT UNTIL (index > LENGTH(numbers)) {\n    total ← total + numbers[index]\n  }\n  RETURN(total / LENGTH(numbers))\n}\nvalues ← [5, 7, 9]\nDISPLAY(average(values))","choices":["index is never changed inside the loop, so the REPEAT UNTIL condition never becomes TRUE","LENGTH(numbers) cannot be called inside PROCEDUREs","RETURN cannot use division in AP CSP pseudocode","indexes in AP CSP lists must start at 0, not 1"],"correctIndex":0}
{"prompt":"Hard 07 (procedures + lists): This procedure must return the first number greater than limit. What bug can skip valid answers?","code":"PROCEDURE findFirstGreater(numbers, limit) {\n  index ← 1\n  REPEAT UNTIL (index > LENGTH(numbers)) {\n    IF (numbers[index] > limit) {\n      RETURN(numbers[index])\n    }\n    index ← index + 2\n  }\n  RETURN(-1)\n}\nvalues ← [3, 4, 5, 6]\nresult ← findFirstGreater(values, 4)\nDISPLAY(result)","choices":["index is increased by 2, so some elements are never checked","The IF condition must use ≥ instead of >","RETURN(-1) must be placed at the top of the PROCEDURE","LENGTH(values) must be used instead of LENGTH(numbers)"],"correctIndex":0}
{"prompt":"Hard 08 (procedures + lists): appendTwice is meant to add value to list twice. What is the bug in the call?","code":"PROCEDURE appendTwice(list, value) {\n  APPEND(list, value)\n  APPEND(list, value)\n}\nnums ← []\nappendTwice(nums)\nDISPLAY(LENGTH(nums))","choices":["The call appendTwice(nums) is missing the value argument","APPEND cannot be used on an empty list in AP CSP","LENGTH(nums) cannot be displayed","list must always be created inside the PROCEDURE, not passed as a parameter"],"correctIndex":0}
{"prompt":"Hard 09 (procedures + lists): maxValue should return the largest number, but it always returns the last one. Why?","code":"PROCEDURE maxValue(numbers) {\n  max ← numbers[1]\n  FOR EACH n IN numbers {\n    max ← n\n  }\n  RETURN(max)\n}\nvalues ← [2, 10, 5]\nDISPLAY(maxValue(values))","choices":["max is overwritten with every n; it should only change when n > max","max must start at 0","FOR EACH loops cannot be used in AP CSP","RETURN must be inside the FOR EACH loop"],"correctIndex":0}
{"prompt":"Hard 10 (procedures + lists): countTarget should return how many times target appears. What is the bug?","code":"PROCEDURE countTarget(list, target) {\n  count ← 0\n  FOR EACH item IN list {\n    IF (item = target) {\n      count ← count + 1\n    }\n  }\n  RETURN(item)\n}\nvalues ← [1, 2, 1]\nDISPLAY(countTarget(values, 1))","choices":["It RETURNS item instead of count","count must start at 1 instead of 0","FOR EACH cannot be used with IF conditions","target values cannot be numbers"],"correctIndex":0}
{"prompt":"Hard 11 (procedures + lists): firstElement should return the first item of list, but sometimes it crashes. Why?","code":"PROCEDURE firstElement(list) {\n  RETURN(list[1])\n}\nvalues ← []\nDISPLAY(firstElement(values))","choices":["It does not handle the case when the list is empty","Lists in AP CSP cannot store numbers","RETURN cannot be the first statement in a PROCEDURE","Index 1 is invalid for lists in AP CSP pseudocode"],"correctIndex":0}
{"prompt":"Hard 12 (procedures + lists): This procedure should create a copy of a list. Why is the result incorrect?","code":"PROCEDURE copyList(original) {\n  copy ← original\n  RETURN(copy)\n}\nnums ← [1, 2, 3]\nclone ← copyList(nums)\nAPPEND(clone, 4)\nDISPLAY(LENGTH(nums))","choices":["copy refers to the same list as original, so changing clone also changes nums","Lists cannot be returned from PROCEDUREs","APPEND must not be used on lists created in PROCEDUREs","LENGTH(nums) cannot be displayed"],"correctIndex":0}
{"prompt":"Hard 13 (procedures + lists): This procedure should swap the first and last elements of list. What is the bug?","code":"PROCEDURE swapEnds(list) {\n  temp ← list[1]\n  list[1] ← list[LENGTH(list)]\n  list[LENGTH(list)] ← list[1]\n}\nnums ← [1, 2, 3]\nswapEnds(nums)\nDISPLAY(nums[1])","choices":["The last assignment should use temp instead of list[1]","LENGTH(list) cannot be used inside PROCEDUREs","swapEnds must RETURN list for changes to apply","Lists in AP CSP are always read-only"],"correctIndex":0}
{"prompt":"Hard 14 (procedures + lists): indexOf is supposed to return the position of target, or 0 if not found. What is the bug?","code":"PROCEDURE indexOf(list, target) {\n  index ← 1\n  REPEAT UNTIL (index > LENGTH(list)) {\n    IF (list[index] = target) {\n      RETURN(index)\n    }\n    index ← index + 1\n  }\n  RETURN(-1)\n}\nvalues ← [5, 6]\nDISPLAY(indexOf(values, 4))","choices":["It RETURNS -1 instead of 0 when target is not found","index should be initialized to 0","REPEAT UNTIL cannot use RETURN inside the loop","LENGTH(list) must be called only once before the loop"],"correctIndex":0}
{"prompt":"Hard 15 (procedures + lists): makeZeros should build a list of n zeros. What is wrong?","code":"PROCEDURE makeZeros(n) {\n  zeros ← []\n  i ← 1\n  REPEAT UNTIL (i > n) {\n    zeros[i] ← 0\n    i ← i + 1\n  }\n  RETURN(zeros)\n}\nresult ← makeZeros(3)\nDISPLAY(LENGTH(result))","choices":["It assigns zeros[i] instead of APPEND, which may assume indexes are already valid","zeros must not be initialized as an empty list","n cannot be used in REPEAT UNTIL","Lists cannot contain zeros in AP CSP pseudocode"],"correctIndex":0}
{"prompt":"Hard 16 (procedures + lists): This procedure should remove all negative numbers. Why is it buggy?","code":"PROCEDURE removeNegatives(list) {\n  index ← 1\n  REPEAT UNTIL (index > LENGTH(list)) {\n    IF (list[index] < 0) {\n      REMOVE(list, index)\n      index ← index + 1\n    }\n    index ← index + 1\n  }\n}\nnums ← [1, -2, -3, 4]\nremoveNegatives(nums)\nDISPLAY(nums)","choices":["index is increased twice after a removal, causing some negatives to be skipped","REMOVE cannot be used inside loops in AP CSP pseudocode","LENGTH(list) must not be used in REPEAT UNTIL","Lists cannot contain negative numbers"],"correctIndex":0}
{"prompt":"Hard 17 (procedures + lists): joinLists should append items from listB to listA. What is the bug?","code":"PROCEDURE joinLists(listA, listB) {\n  FOR EACH item IN listB {\n    APPEND(listB, item)\n  }\n}\na ← [1, 2]\nb ← [3, 4]\njoinLists(a, b)\nDISPLAY(a)","choices":["It APPENDs items to listB instead of listA","FOR EACH cannot iterate over listB","APPEND cannot be called inside PROCEDUREs","Lists a and b cannot both contain numbers"],"correctIndex":0}
{"prompt":"Hard 18 (procedures + lists): getEvens should return only the even numbers. Why is its return value wrong?","code":"PROCEDURE getEvens(list) {\n  evens ← []\n  FOR EACH value IN list {\n    IF (value MOD 2 = 0) {\n      APPEND(evens, value)\n    }\n  }\n  RETURN(list)\n}\nnums ← [1, 2, 3, 4]\nresult ← getEvens(nums)\nDISPLAY(LENGTH(result))","choices":["It RETURNS list instead of evens","MOD cannot be used inside PROCEDUREs in AP CSP","APPEND must be used only outside loops","Lists in AP CSP cannot store even numbers"],"correctIndex":0}
{"prompt":"Hard 19 (procedures + lists): reverse should return the list in reverse order, but it doesn’t. Why?","code":"PROCEDURE reverse(list) {\n  reversed ← []\n  index ← 1\n  REPEAT UNTIL (index > LENGTH(list)) {\n    APPEND(reversed, list[index])\n    index ← index + 1\n  }\n  RETURN(list)\n}\nnums ← [1, 2, 3]\nDISPLAY(reverse(nums))","choices":["It RETURNS list instead of reversed","APPEND must not be used with lists","REPEAT UNTIL cannot be used to process lists","Lists of numbers cannot be reversed in AP CSP pseudocode"],"correctIndex":0}
{"prompt":"Hard 20 (procedures + lists): totalLength should return the total number of elements in both lists. What is the bug?","code":"PROCEDURE totalLength(listA, listB) {\n  RETURN(LENGTH(listA) + LENGTH(listA))\n}\na ← [1, 2]\nb ← [3, 4, 5]\nDISPLAY(totalLength(a, b))","choices":["It uses LENGTH(listA) twice instead of LENGTH(listA) + LENGTH(listB)","Lists must be the same length for this to work","LENGTH cannot be used inside RETURN","b must be an empty list"],"correctIndex":0}
{"prompt":"Hard 21 (procedures + lists): contains should return TRUE if list has target. Why is it incorrect?","code":"PROCEDURE contains(list, target) {\n  FOR EACH item IN list {\n    IF (item = target) {\n      RETURN(TRUE)\n    }\n    ELSE {\n      RETURN(FALSE)\n    }\n  }\n}\nvalues ← [1, 2, 3]\nDISPLAY(contains(values, 3))","choices":["It RETURNS FALSE as soon as the first item is not target, without checking the rest","TRUE and FALSE cannot be returned from PROCEDUREs","FOR EACH cannot be used with IF in AP CSP","target must be a string, not a number"],"correctIndex":0}
{"prompt":"Hard 22 (procedures + lists): scale should multiply each item in list by factor. Why doesn’t list change?","code":"PROCEDURE scale(list, factor) {\n  FOR EACH item IN list {\n    item ← item * factor\n  }\n}\nnums ← [1, 2, 3]\nscale(nums, 2)\nDISPLAY(nums[1])","choices":["Reassigning item does not modify the actual elements of list","factor must be stored inside the list","FOR EACH cannot be used with numeric lists","scale must RETURN list for changes to take effect"],"correctIndex":0}
{"prompt":"Hard 23 (procedures + lists): findAllPositions should add all indices where target appears. What is the bug?","code":"PROCEDURE findAllPositions(list, target) {\n  positions ← []\n  index ← 1\n  REPEAT UNTIL (index > LENGTH(list)) {\n    IF (list[index] = target) {\n      APPEND(positions, index)\n      RETURN(positions)\n    }\n    index ← index + 1\n  }\n  RETURN(positions)\n}\nvalues ← [1, 2, 1, 2]\nDISPLAY(findAllPositions(values, 2))","choices":["It RETURNS as soon as it finds the first match, so later matches are never recorded","positions must start as [0] instead of []","APPEND cannot be used to add index values","LENGTH(list) must not be used inside loops"],"correctIndex":0}
{"prompt":"Hard 24 (procedures + lists): incrementAll should add 1 to every element and return the result. What is the bug?","code":"PROCEDURE incrementAll(list) {\n  index ← 1\n  REPEAT UNTIL (index > LENGTH(list)) {\n    list[index] ← list[index] + 1\n    index ← index + 1\n  }\n}\nnums ← [1, 2]\nresult ← incrementAll(nums)\nDISPLAY(result[1])","choices":["incrementAll never RETURNS the modified list","Lists in AP CSP cannot be changed inside PROCEDUREs","index must start at 0","LENGTH(list) cannot be used in REPEAT UNTIL"],"correctIndex":0}
{"prompt":"Hard 25 (procedures + lists): makeRange should create [1, 2, ..., n]. What is the bug?","code":"PROCEDURE makeRange(n) {\n  range ← []\n  i ← 1\n  REPEAT UNTIL (i > n) {\n    APPEND(range, n)\n    i ← i + 1\n  }\n  RETURN(range)\n}\nresult ← makeRange(3)\nDISPLAY(result[1])","choices":["It APPENDs n every time instead of i, so all elements are the same","i must start at 0","range must not be initialized as an empty list","RETURN cannot return lists in AP CSP pseudocode"],"correctIndex":0}
{"prompt":"Hard 26 (procedures + lists): sumFirst should return the sum of the first k elements. What is the off-by-one bug?","code":"PROCEDURE sumFirst(list, k) {\n  total ← 0\n  index ← 1\n  REPEAT UNTIL (index ≥ k) {\n    total ← total + list[index]\n    index ← index + 1\n  }\n  RETURN(total)\n}\nvalues ← [2, 4, 6]\nDISPLAY(sumFirst(values, 2))","choices":["The loop stops when index reaches k, so list[k] is never added","index must be initialized to 0","total must start at 1","RETURN must be inside the loop"],"correctIndex":0}
{"prompt":"Hard 27 (procedures + lists): doubledCopy should create a new doubled list without changing original. Why is original changed?","code":"PROCEDURE doubledCopy(list) {\n  copy ← list\n  FOR EACH i IN copy {\n    i ← i * 2\n  }\n  RETURN(copy)\n}\nnums ← [1, 2]\nresult ← doubledCopy(nums)\nDISPLAY(nums[1])","choices":["copy refers to the same list as list, so modifying copy also modifies nums","RETURN cannot be used with lists","FOR EACH must iterate over list, not copy","Lists cannot be multiplied by 2 in AP CSP pseudocode"],"correctIndex":0}
{"prompt":"Hard 28 (procedures + lists): minValue should return the smallest element. What is the bug?","code":"PROCEDURE minValue(numbers) {\n  min ← numbers[1]\n  FOR EACH n IN numbers {\n    IF (n < min) {\n      min ← min\n    }\n  }\n  RETURN(min)\n}\nvalues ← [5, 2, 9]\nDISPLAY(minValue(values))","choices":["Inside the IF, it should assign min ← n instead of min ← min","min must always start at 0","FOR EACH cannot be used to search lists","RETURN must be placed inside the IF"],"correctIndex":0}
{"prompt":"Hard 29 (procedures + lists): concatStrings should join all parts into one string. Why is it wrong?","code":"PROCEDURE concatStrings(list) {\n  result ← \"\"\n  FOR EACH part IN list {\n    result ← part\n  }\n  RETURN(result)\n}\nwords ← [\"A\", \"B\", \"C\"]\nDISPLAY(concatStrings(words))","choices":["result is overwritten each time instead of adding; it should be result ← result + part","Strings cannot be stored in lists in AP CSP","FOR EACH cannot be used with strings","RETURN must return the list, not the result string"],"correctIndex":0}
{"prompt":"Hard 30 (procedures + lists): countAboveAverage should return how many items are greater than the average. What is the bug?","code":"PROCEDURE countAboveAverage(numbers) {\n  total ← 0\n  FOR EACH n IN numbers {\n    total ← total + n\n  }\n  avg ← total / LENGTH(numbers)\n  count ← 0\n  FOR EACH n IN numbers {\n    IF (n > avg) {\n      count ← count + 1\n    }\n  }\n  RETURN(total)\n}\nvalues ← [1, 2, 3]\nDISPLAY(countAboveAverage(values))","choices":["It RETURNS total instead of count","avg must use LENGTH(numbers) - 1","FOR EACH cannot be used twice in one PROCEDURE","n cannot be reused as a loop variable in two loops"],"correctIndex":0}
{"prompt":"Hard 31 (procedures + lists): isSorted should return TRUE if list is in ascending order. Why is it wrong?","code":"PROCEDURE isSorted(list) {\n  index ← 1\n  REPEAT UNTIL (index > LENGTH(list)) {\n    IF (list[index] > list[index + 1]) {\n      RETURN(FALSE)\n    }\n    index ← index + 1\n  }\n  RETURN(TRUE)\n}\nvalues ← [1, 2, 3]\nDISPLAY(isSorted(values))","choices":["When index is at the last element, list[index + 1] is out of range","It should RETURN(TRUE) after the first comparison","REPEAT UNTIL cannot be used with lists","List indexes in AP CSP must start at 0"],"correctIndex":0}
{"prompt":"Hard 32 (procedures + lists): doubledNew should return a new doubled list and leave original unchanged. Why does original change?","code":"PROCEDURE doubledNew(list) {\n  FOR EACH i IN list {\n    i ← i * 2\n  }\n  RETURN(list)\n}\nnums ← [1, 2]\nresult ← doubledNew(nums)\nDISPLAY(nums[1])","choices":["It modifies the original list directly instead of building a separate copy","RETURN(list) is not allowed in AP CSP","FOR EACH cannot change its loop variable","Lists cannot store numeric values"],"correctIndex":0}
{"prompt":"Hard 33 (procedures + lists): addFront should put value at the beginning of list and return it. What is the bug?","code":"PROCEDURE addFront(list, value) {\n  INSERT(list, LENGTH(list), value)\n  RETURN(list)\n}\nnums ← [2, 3]\nDISPLAY(addFront(nums, 1)[1])","choices":["It INSERTs at the end instead of at index 1","INSERT cannot be used with numeric values","RETURN(list) must appear before INSERT","Lists in AP CSP must always be empty when passed to PROCEDUREs"],"correctIndex":0}
{"prompt":"Hard 34 (procedures + lists): clearList should remove all items, but some remain. Why?","code":"PROCEDURE clearList(list) {\n  index ← 1\n  REPEAT UNTIL (index > LENGTH(list)) {\n    REMOVE(list, index)\n    index ← index + 1\n  }\n}\nnums ← [1, 2, 3]\nclearList(nums)\nDISPLAY(LENGTH(nums))","choices":["Removing shifts elements left, but index is still increased, causing some elements to be skipped","LENGTH(list) cannot change while inside a loop","REMOVE cannot be used on lists in AP CSP","Lists with three items cannot be cleared"],"correctIndex":0}
{"prompt":"Hard 35 (procedures + lists): positives should return a list of positive numbers. Why may it crash?","code":"PROCEDURE positives(list) {\n  result ← []\n  index ← 1\n  REPEAT UNTIL (index > LENGTH(list)) {\n    IF (list[index] > 0) {\n      APPEND(result, list[index])\n    }\n    index ← index + 1\n  }\n  RETURN(result[1])\n}\nnums ← [-1, -2]\nDISPLAY(positives(nums))","choices":["If there are no positive numbers, result[1] does not exist","Lists cannot contain negative numbers in AP CSP pseudocode","APPEND cannot be used in PROCEDUREs","index must start at 0 instead of 1"],"correctIndex":0}
